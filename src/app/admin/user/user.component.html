<app-admin-header></app-admin-header>
<app-admin-sidebar></app-admin-sidebar>

<div class="main-container">
    <div class="pd-ltr-20 xs-pd-20-10">
        <div class="min-height-200px">
            <div class="page-header">
                <div class="row">
                    <div class="col-md-6 col-sm-12">
                        <div class="title">
                            <h4>Users</h4>
                        </div>
                        <nav aria-label="breadcrumb" role="navigation">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                <li class="breadcrumb-item active" style="color: #1E88E5;">All User</li>
                            </ol>
                        </nav>
                    </div>

                </div>
            </div>
            <!-- Simple Datatable start -->
            <div class="card-box mb-30">

                <div class="pb-20">
                    <mat-form-field style="width: 100% !important;">
                        <mat-label>
    Filter
                        </mat-label>
                        <input matInput placeholder="Search ..." (keyup)="Filterchange($event)">
                    </mat-form-field>
                    <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8">
                        <!-- Weight Column -->
                        <ng-container matColumnDef="firstname">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef > First name </th>
                            <td mat-cell *matCellDef="let element"> {{element.firstname}} </td>
                        </ng-container>

                        <!-- Symbol Column -->
                        <ng-container matColumnDef="lastname">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef > Last name </th>
                            <td mat-cell *matCellDef="let element"> {{element.lastname}} </td>
                        </ng-container>
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="address">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef > Address </th>
                            <td mat-cell *matCellDef="let element"> {{element.address}} </td>
                        </ng-container>
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="phonenumber">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef > Phone </th>
                            <td mat-cell *matCellDef="let element"> {{element.phonenumber}} </td>
                        </ng-container>
                        <!-- Position Column -->
                        <ng-container matColumnDef="dateofbirth">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef > dateofbirth </th>
                            <td mat-cell *matCellDef="let element"> {{element.dateofbirth | date: 'yyyy-MM-dd'}} </td>
                        </ng-container>
                        <ng-container matColumnDef="actions">
                            <th mat-header-cell *matHeaderCellDef> Actions </th>
                            <td mat-cell *matCellDef="let element">
                              <div class="dropdown" style="color: #1E88E5;">
                                <button mat-icon-button [matMenuTriggerFor]="menu">
                                  <mat-icon>more_vert</mat-icon>
                                </button>
                                <mat-menu #menu="matMenu" x-position="before"  >
                                  <button mat-menu-item (click)="OpenUpdateDialog(element)">
                                    <mat-icon style="color: #1E88E5;">edit</mat-icon>
                                    <span style="color: #1E88E5;">Edit</span>
                                  </button>
                                  <button mat-menu-item (click)="OpenConfirmationDialog(element.userid)">
                                    <mat-icon style="color: #1E88E5;">delete</mat-icon>
                                    <span style="color: #1E88E5;">Delete</span>
                                  </button>
                                </mat-menu>
                              </div>
                            </td>
                          </ng-container>
                        <!-- <ng-container>
                            <th>  </th>
                            <td *ngFor="let n of empdata"> 
                          
                        </td>
                        </ng-container> -->
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                    </table>
                    <mat-paginator [pageSizeOptions]="[5,10,20]" showFirstLastButton></mat-paginator>

                </div>

            </div>
            <!-- Simple Datatable End -->

            <!-- Default Basic Forms Start -->



            <!-- Default Basic Forms End -->
        </div>
        <div class="footer-wrap pd-20 mb-20 card-box">
            DeskApp - Bootstrap 4 Admin Template By <a href="https://github.com/dropways" target="_blank">Ankit
                Hingarajiya</a>
        </div>
    </div>
</div>

<!-- Delete Dialog -->

<ng-template #ConfirmationDialog >
   
        <h1 mat-dialog-title style="color:#1E88E5;">Delete User</h1>
        <div mat-dialog-content>
            Would you like to delete User?
        </div>
        <div mat-dialog-actions class="justify-content-center" >
            <button mat-button mat-dialog-close="no" cdkFocusInitial>No</button>
            <button mat-button mat-dialog-close="yes" style="background-color: #1E88E5;color: white;">Yes</button>
        </div>
   


</ng-template>
<!-- Update Dialog -->

<ng-template #UpdateDialog>
 
        <form [formGroup]="UpdateUserForm" class="justify-content-center">
            <div class="example-container">
            <mat-form-field style="width: 90% !important;">
                    <mat-label class="col-form-label">First Name</mat-label>
                    <div class="placeholder">
                        <input class="form-control" type="text" placeholder="Write Your First Name"
                            formControlName="firstname">
                        <mat-error *ngIf="UpdateUserForm.controls['firstname'].hasError('required')">First Name is required</mat-error>
                    </div>



                
            </mat-form-field>
        </div>
        <div class="example-container">
            <mat-form-field style="width: 90% !important;">
               

                    <mat-label class="col-form-label">Last Name</mat-label>
                    <div class="placeholder">
                        <input class="form-control" type="text" placeholder="Write Your Last Name"
                            formControlName="lastname">
                        <mat-error *ngIf="UpdateUserForm.controls['lastname'].hasError('required')">Last Name is
                            required</mat-error>


                    </div>



               
            </mat-form-field>
        </div>
        <div class="example-container">
            <mat-form-field style="width: 90% !important;">
              

                    <mat-label for="example-datetime-local-input" class="col-form-label">Birth Date</mat-label>
                    <div>
                        <input class="form-control" placeholder="Choose Your Birthday" type="date"
                            formControlName="dateofbirth">
                        <mat-error *ngIf="UpdateUserForm.controls['dateofbirth'].hasError('required')">Date of birth is
                            required</mat-error>
                    </div>

               
            </mat-form-field>
        </div>
        <div class="example-container">
            <mat-form-field style="width: 90% !important;">
             

                    <mat-label class="col-form-label">Address</mat-label>
                    <div class="placeholder">
                        <input class="form-control" type="text" placeholder="Write Your Address"
                            formControlName="address">
                        <mat-error *ngIf="UpdateUserForm.controls['address'].hasError('required')">Address is
                            required</mat-error>

                    </div>
               
            </mat-form-field>
        </div>
        <div class="example-container">
            <mat-form-field style="width: 90% !important;">
                

                    <mat-label class="col-form-label">Phone</mat-label>
                    <div class="placeholder">
                        <input class="form-control" type="text" placeholder="Write Your Phone number"
                            formControlName="phonenumber">
                        <mat-error *ngIf="UpdateUserForm.controls['phonenumber'].hasError('required')">Phone is
                            required</mat-error>

                    </div>
                
            </mat-form-field>
        </div>
        <div class="example-button-row" >
                <button mat-dialog-close (click)="UpdateUser()" style="margin-left: 225px; margin-bottom: 50px !important; background-color: #1565C0;width: 150px; color: white;" mat-stroked-button  mat-dialog-close  type="submit" value="Update">Update</button>
        </div>
        </form>
   
</ng-template>